{"version":3,"file":"static/js/667.69143f20.chunk.js","mappings":"6KAIA,MA8FA,EA9FgBA,IACZ,MAAMC,GAAWC,EAAAA,EAAAA,OAEVC,EAAYC,IAAiBC,EAAAA,EAAAA,WAAS,IACtCC,EAAMC,IAAWF,EAAAA,EAAAA,UAAS,KAC1BG,EAAQC,IAAaJ,EAAAA,EAAAA,WAAS,GAE/BK,GAAUC,EAAAA,EAAAA,QAAOL,GA6CvB,OACIM,EAAAA,EAAAA,MAAA,OAAKC,GAAG,UAASC,SAAA,EACbF,EAAAA,EAAAA,MAAA,OAAKC,GAAG,SAAQC,SAAA,EACZC,EAAAA,EAAAA,KAAA,OAAKF,GAAG,OAAOG,IAAI,0FAA0FC,IAAI,OAAOC,QA9CpHC,KACZf,GAAc,GACdgB,YAAW,KACPhB,GAAc,GACdH,EAAS,IAAI,GACd,IAAK,EAyC0IoB,MAAOlB,EAAa,CAACmB,UAAW,qBAAuB,QACjMP,EAAAA,EAAAA,KAAA,KAAAD,SAE2B,WAAnBd,EAAMuB,SACF,YACA,oBAIhBR,EAAAA,EAAAA,KAAA,OAAKF,GAAG,QAAQG,IAAKhB,EAAMwB,SAAUP,IAAI,gBACzCL,EAAAA,EAAAA,MAAA,OAAKa,UAAU,gBAAeX,SAAA,CAEH,WAAnBd,EAAMuB,UACFR,EAAAA,EAAAA,KAAA,SAAOU,UAAU,aAAaC,KAAK,SAASC,YAAY,YAAYC,KAAK,OAAOf,GAAG,OAAOgB,SAAWC,IACjGvB,EAAQuB,EAAMC,OAAOC,OACrBtB,EAAQuB,QAAUH,EAAMC,OAAOC,KAAK,EACrCE,UAAQ,KACXnB,EAAAA,EAAAA,KAAA,SAAOU,UAAU,aAAaC,KAAK,OAAOC,YAAY,YAAYC,KAAK,OAAOf,GAAG,OAAOgB,SAAWC,IAC/FvB,EAAQuB,EAAMC,OAAOC,OACrBtB,EAAQuB,QAAUH,EAAMC,OAAOC,KAAK,EACrCE,UAAQ,KAEnBnB,EAAAA,EAAAA,KAAA,UAAQG,QAA6B,WAAnBlB,EAAMuB,SAAwB,KAzC1CY,QAyC2DzB,EAAQuB,QArCjFG,MAAM,kCAADC,OAAmCF,IACvCG,MAAKC,GAAOA,EAAIC,SAChBF,MAAKhC,KACgB,IAAfA,EAAKmC,MACJhC,GAAU,IAEViC,aAAaC,QAAQ,QAASC,KAAKC,UAAU,IAAID,KAAKE,MAAMJ,aAAaK,QAAQ,UAAWC,SAASb,MACrGlC,EAAS,SAADoC,OAAUF,IACtB,GA6BqF,EAAK,KA5D9EP,QA4DiGlB,EAAQuB,QAxDzHG,MAAM,mCAAoC,CACtCa,OAAQ,OACRC,KAAMN,KAAKC,UAAU,CAACjB,SACtBuB,QAAS,CACT,eAAgB,sBAGnBb,MAAKC,GAAOA,EAAIC,SAChBF,MAAKhC,IACFoC,aAAaC,QAAQ,QAASC,KAAKC,UAAU,IAAID,KAAKE,MAAMJ,aAAaK,QAAQ,UAAWzC,EAAK6B,QACjGlC,EAAS,SAADoC,OAAU/B,EAAK6B,MAAO,IAEjCiB,OAAMC,GAAOC,QAAQC,IAAIF,IA4CuG,EAAG3B,KAAK,SAAQZ,SAE9G,WAAnBd,EAAMuB,SACF,OACA,WAIRf,GACAO,EAAAA,EAAAA,KAAA,KAAGF,GAAG,YAAWC,SAAC,iCAChB,UAGR,C","sources":["Pages/CreateJoin.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './CreateJoin.css';\r\n\r\nconst Create = (props) => {\r\n    const navigate = useNavigate();\r\n\r\n    const [navingBack, setNavingBack] = useState(false);\r\n    const [data, setData] = useState('');\r\n    const [noList, setNoList] = useState(false);\r\n\r\n    const dataRef = useRef(data);\r\n\r\n    const navBack = () => {\r\n        setNavingBack(true);\r\n        setTimeout(() => {\r\n            setNavingBack(false);\r\n            navigate('/');\r\n        }, 1000);\r\n    }\r\n\r\n    const createList = (name) => {\r\n        // Make a post request to http://localhost:5000/createList with the name of the list\r\n        // Then add the id returned from the request to localStorage\r\n        // Then navigate to the list page\r\n        fetch('http://localhost:5000/createList', {\r\n            method: 'POST',\r\n            body: JSON.stringify({name}),\r\n            headers: {\r\n            'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            localStorage.setItem('lists', JSON.stringify([...JSON.parse(localStorage.getItem('lists')), data.code]));\r\n            navigate(`/list/${data.code}`);\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    const joinList = (code) => {\r\n        // Make a get request to http://localhost:5000/joinList/:id with the code of the list\r\n        // Then add the id returned from the request to localStorage\r\n        // Then navigate to the list page\r\n        fetch(`http://localhost:5000/joinList/${code}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if(data.found === false) {\r\n                setNoList(true);\r\n            } else {\r\n                localStorage.setItem('lists', JSON.stringify([...JSON.parse(localStorage.getItem('lists')), parseInt(code)]));\r\n                navigate(`/list/${code}`);\r\n            }\r\n        });\r\n    }\r\n    \r\n    return (\r\n        <div id=\"content\">\r\n            <div id=\"header\">\r\n                <img id=\"back\" src=\"https://cdn.glitch.global/a505ce02-f570-40df-ad76-697af5e6acd7/back.png?v=1703820361532\" alt=\"back\" onClick={navBack} style={navingBack ? {animation: 'button-press .75s'} : null} />\r\n                <p>\r\n                    {\r\n                        props.pageType === 'number' ?\r\n                            'Join List'\r\n                        :   'Create List'\r\n                    }\r\n                </p>\r\n            </div>\r\n            <img id=\"story\" src={props.storyImg} alt=\"Action Img\" />\r\n            <div className=\"input-section\">\r\n                {\r\n                    props.pageType === 'number' ? \r\n                        <input className=\"user-input\" type=\"number\" placeholder=\"Join code\" name=\"list\" id=\"list\" onChange={(event) => {\r\n                            setData(event.target.value);\r\n                            dataRef.current = event.target.value;\r\n                        }} required />\r\n                    :   <input className=\"user-input\" type=\"text\" placeholder=\"List name\" name=\"list\" id=\"list\" onChange={(event) => {\r\n                            setData(event.target.value);\r\n                            dataRef.current = event.target.value;\r\n                        }} required />\r\n                }\r\n                <button onClick={ props.pageType === 'number' ? () => { joinList(dataRef.current) } : () => { createList(dataRef.current)}} type=\"submit\">\r\n                    {\r\n                        props.pageType === 'number' ?\r\n                            'Join'\r\n                        :   'Create'\r\n                    }\r\n                </button>\r\n                {\r\n                    noList ?\r\n                    <p id='error-msg'>No list found with that code</p>\r\n                    : null\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Create;\r\n"],"names":["props","navigate","useNavigate","navingBack","setNavingBack","useState","data","setData","noList","setNoList","dataRef","useRef","_jsxs","id","children","_jsx","src","alt","onClick","navBack","setTimeout","style","animation","pageType","storyImg","className","type","placeholder","name","onChange","event","target","value","current","required","code","fetch","concat","then","res","json","found","localStorage","setItem","JSON","stringify","parse","getItem","parseInt","method","body","headers","catch","err","console","log"],"sourceRoot":""}